(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[5],{37:function(e,t,a){"use strict";var i=a(43),n=a.n(i);t.a=function(e,t){var a="4f24a465004dec8d1f65f162bb769c3a",i="https://api.themoviedb.org/3";return e?n.a.get("".concat(i,"/search/movie?api_key=").concat(a,"&language=en-US&query=").concat(e,"&page=1&include_adult=false")):t?n.a.get("".concat(i,"/movie/").concat(t,"?api_key=").concat(a,"&").concat("append_to_response=credits,reviews","&language=en-US")):n.a.get("".concat(i,"/trending/movie/week?api_key=").concat(a))}},38:function(e,t,a){e.exports={container:"MoviesPageView_container__11pun",headBlock:"MoviesPageView_headBlock__1mWdC",formBar:"MoviesPageView_formBar__19t6C"}},44:function(e,t,a){e.exports={"MoviePreview-thumb":"MoviePreview_MoviePreview-thumb__1K5ai","MoviePreview-titleBlock":"MoviePreview_MoviePreview-titleBlock__JUGv0","MoviePreview-title":"MoviePreview_MoviePreview-title__2o5eU"}},45:function(e,t,a){e.exports={moviesList:"MoviesList_moviesList__3rZPk"}},46:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));a(0);var i=a(9),n=a(2),o=a(44),s=a.n(o),r=a(1),c=function(e){var t=e.poster_path,a=e.title,i=e.release_date;return Object(r.jsxs)("div",{className:s.a["MoviePreview-thumb"],children:[Object(r.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(t),alt:a}),Object(r.jsxs)("div",{className:s.a["MoviePreview-titleBlock"],children:[Object(r.jsx)("h5",{className:s.a["MoviePreview-title"],children:"".concat(a)}),i&&Object(r.jsx)("h5",{className:s.a["MoviePreview-title"],children:"(".concat(i.slice(0,4),")")})]})]})},l=a(45),u=a.n(l),v=Object(n.f)((function(e){var t=e.movies,a=e.location;return Object(r.jsx)("ul",{className:u.a.moviesList,children:t.map((function(e){var t=e.id,n=e.poster_path,o=e.title,s=e.release_date;return Object(r.jsx)("li",{className:u.a.item,children:Object(r.jsx)(i.b,{to:{pathname:"/movies/".concat(t),state:{from:a}},children:Object(r.jsx)(c,{poster_path:n,title:o,release_date:s})})},t)}))})}))},79:function(e,t,a){"use strict";a.r(t);var i=a(41),n=a.n(i),o=a(42),s=a(35),r=a(36),c=a(40),l=a(39),u=a(0),v=a(37),m=a(46),h=a(38),d=a.n(h),f=a(1),p=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={formValue:"",movies:[],status:"idle"},e.handleChange=function(t){var a=t.currentTarget.value;e.setState({formValue:a.toLowerCase()})},e.handleSubmit=function(t){t.preventDefault(),e.setState({status:"pending"})},e.handleClear=function(){e.setState({formValue:"",movies:[],status:"idle"}),localStorage.removeItem("movies"),localStorage.removeItem("formValue")},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("movies"),t=localStorage.getItem("formValue"),a=JSON.parse(e),i=JSON.parse(t);a&&(this.setState({movies:a}),this.setState({formValue:i}))}},{key:"componentDidUpdate",value:function(){var e=Object(o.a)(n.a.mark((function e(){var t,a,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.formValue,"pending"!==t.status||0===a.length){e.next=8;break}return e.next=4,Object(v.a)(a);case 4:i=e.sent,this.setState({movies:i.data.results,status:"resolved"}),localStorage.setItem("movies",JSON.stringify(i.data.results)),localStorage.setItem("formValue",JSON.stringify(a));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.movies;return Object(f.jsxs)("div",{className:d.a.container,children:[Object(f.jsx)("div",{className:d.a.headBlock,children:Object(f.jsxs)("form",{className:d.a.formBar,onSubmit:this.handleSubmit,children:[Object(f.jsx)("button",{type:"button",onClick:this.handleClear,children:"Clear"}),Object(f.jsx)("input",{type:"text",name:"name",value:this.state.formValue,onChange:this.handleChange}),Object(f.jsx)("button",{type:"submit",children:"Search"})]})}),Object(f.jsx)(m.a,{movies:e})]})}}]),a}(u.Component);t.default=p}}]);
//# sourceMappingURL=movies-page-view.4ecdb5c8.chunk.js.map