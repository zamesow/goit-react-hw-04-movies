(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4],{39:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return p}));var a=r(35),n=r.n(a),c=r(36),s=r(43),i=r.n(s),o="https://image.tmdb.org/t/p/w500/";i.a.defaults.baseURL="https://api.themoviedb.org/3/",i.a.defaults.params={api_key:"4f24a465004dec8d1f65f162bb769c3a",language:"en-US"};var u=function(){var e=Object(c.a)(n.a.mark((function e(t){var r,a,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t),params:{append_to_response:"credits,reviews"}},e.next=4,i()(r,t);case 4:return a=e.sent,c=a.data,e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(n.a.mark((function e(t){var r,a,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"search/movie",params:{query:t}},e.next=4,i()(r);case 4:return a=e.sent,c=a.data,e.abrupt("return",c.results);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(n.a.mark((function e(){var t,r,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={url:"trending/movie/week"},e.next=4,i()(t);case 4:return r=e.sent,a=r.data,e.abrupt("return",a.results);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},75:function(e,t,r){e.exports={MovieDetails:"MovieDetailsPageView_MovieDetails__w972_",description:"MovieDetailsPageView_description__cGngn",genres:"MovieDetailsPageView_genres__2ywdv",backBtn:"MovieDetailsPageView_backBtn__2WDeE"}},81:function(e,t,r){"use strict";r.r(t);var a=r(35),n=r.n(a),c=r(12),s=r(36),i=r(37),o=r(38),u=r(42),l=r(41),p=r(0),v=r(9),h=r(2),j=r(39),b=r(7),d=r(75),f=r.n(d),O=r(1),m=Object(p.lazy)((function(){return r.e(1).then(r.bind(null,77))})),x=Object(p.lazy)((function(){return r.e(7).then(r.bind(null,78))})),w=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={title:"",genres:[],overview:"",release_date:"",vote_average:"",poster_path:"",cast:[],reviews:[]},e.handleGoBack=function(){var t=e.props.history,r=localStorage.getItem("lastPage"),a=JSON.parse(r);if(a)return t.push(a||b.a.movies)},e}return Object(o.a)(r,[{key:"componentDidMount",value:function(){var e=Object(s.a)(n.a.mark((function e(){var t,r,a,s=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.location,r=this.props.match.params.slug,a=r.match(/[a-z0-9]+$/)[0],Object(j.b)(a).then((function(e){return s.setState(Object(c.a)(Object(c.a)({},e),{},{poster_path:j.a+e.poster_path,cast:e.credits.cast,reviews:e.reviews.results}))})),t.state&&t.state.from&&localStorage.setItem("lastPage",JSON.stringify(t.state.from));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.title,r=e.release_date,a=e.genres,n=e.poster_path,s=e.overview,i=e.vote_average,o=e.cast,u=e.reviews,l=this.props.movies,j=this.props.match,b=j.url,d=j.path,w=n,g=10*i+"%";return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:f.a.backBtn,type:"button",onClick:this.handleGoBack,movies:l,children:"\u041d\u0430\u0437\u0430\u0434"}),t&&Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:f.a.MovieDetails,children:[Object(O.jsx)("img",{src:"".concat(w),alt:"poster ".concat(t)}),Object(O.jsxs)("div",{className:f.a.description,children:[Object(O.jsx)("h1",{children:"".concat(t," (").concat(r?r.slice(0,4):"Coming soon",")")}),i?Object(O.jsx)("p",{children:"User score: ".concat(g)}):"",s&&Object(O.jsx)("h3",{children:"Overview"}),Object(O.jsx)("p",{children:s}),Object(O.jsx)("h4",{children:"Genres"}),Object(O.jsx)("ul",{className:f.a.genres,children:a.map((function(e){var t=e.id,r=e.name;return Object(O.jsx)("li",{children:r},t)}))})]})]}),Object(O.jsx)("hr",{}),Object(O.jsx)("p",{children:"Addidition information"}),Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsx)(v.c,{to:"".concat(b,"/cast"),className:"NavLink",activeClassName:"NavLink--active",children:"Cast"})}),Object(O.jsx)("li",{children:Object(O.jsx)(v.c,{to:"".concat(b,"/reviews"),className:"NavLink",activeClassName:"NavLink--active",children:"Reviews"})})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)(p.Suspense,{children:[Object(O.jsx)(h.a,{path:"".concat(d,"/cast"),render:function(e){return Object(O.jsx)(m,Object(c.a)(Object(c.a)({},e),{},{cast:o}))}}),Object(O.jsx)(h.a,{path:"".concat(d,"/reviews"),render:function(e){return Object(O.jsx)(x,Object(c.a)(Object(c.a)({},e),{},{reviews:u}))}})]})]})]})}}]),r}(p.Component);t.default=w}}]);
//# sourceMappingURL=movie-details-page-view.79f9ff18.chunk.js.map