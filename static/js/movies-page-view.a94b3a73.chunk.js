(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[5],{37:function(e,t,a){e.exports={container:"MoviesPageView_container__11pun",headBlock:"MoviesPageView_headBlock__1mWdC",formBar:"MoviesPageView_formBar__19t6C"}},43:function(e,t,a){e.exports={"MoviePreview-thumb":"MoviePreview_MoviePreview-thumb__1K5ai","MoviePreview-titleBlock":"MoviePreview_MoviePreview-titleBlock__JUGv0","MoviePreview-title":"MoviePreview_MoviePreview-title__2o5eU"}},44:function(e,t,a){e.exports={moviesList:"MoviesList_moviesList__3rZPk"}},45:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));a(0);var i=a(10),s=a(2),r=a(43),n=a.n(r),o=a(1),c=function(e){var t=e.poster_path,a=e.title,i=e.release_date;return Object(o.jsxs)("div",{className:n.a["MoviePreview-thumb"],children:[Object(o.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(t),alt:a}),Object(o.jsxs)("div",{className:n.a["MoviePreview-titleBlock"],children:[Object(o.jsx)("h5",{className:n.a["MoviePreview-title"],children:"".concat(a)}),i&&Object(o.jsx)("h5",{className:n.a["MoviePreview-title"],children:"(".concat(i.slice(0,4),")")})]})]})},l=a(44),u=a.n(l),v=Object(s.f)((function(e){var t=e.movies,a=e.location;return Object(o.jsx)("ul",{className:u.a.moviesList,children:t.map((function(e){var t=e.id,s=e.poster_path,r=e.title,n=e.release_date;return Object(o.jsx)("li",{className:u.a.item,children:Object(o.jsx)(i.b,{to:{pathname:"/movies/".concat(t),state:{from:a}},children:Object(o.jsx)(c,{poster_path:s,title:r,release_date:n})})},t)}))})}))},78:function(e,t,a){"use strict";a.r(t);var i=a(40),s=a.n(i),r=a(41),n=a(35),o=a(36),c=a(39),l=a(38),u=a(0),v=a(42),m=a.n(v),h=a(45),d=a(37),f=a.n(d),p=a(1),j=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={formValue:"",movies:[],status:"idle"},e.handleChange=function(t){var a=t.currentTarget.value;e.setState({formValue:a.toLowerCase()})},e.handleSubmit=function(t){t.preventDefault(),e.setState({status:"pending"})},e.handleClear=function(){e.setState({formValue:"",movies:[],status:"idle"}),localStorage.removeItem("movies"),localStorage.removeItem("formValue")},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("movies"),t=localStorage.getItem("formValue"),a=JSON.parse(e),i=JSON.parse(t);a&&(this.setState({movies:a}),this.setState({formValue:i}))}},{key:"componentDidUpdate",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,i,r,n,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.API,i=t.mainUrl,r=this.state,n=r.formValue,"pending"!==r.status||0===n.length){e.next=9;break}return e.next=5,m.a.get("".concat(i,"/search/movie?api_key=").concat(a,"&language=en-US&query=").concat(n,"&page=1&include_adult=false"));case 5:o=e.sent,this.setState({movies:o.data.results,status:"resolved"}),localStorage.setItem("movies",JSON.stringify(o.data.results)),localStorage.setItem("formValue",JSON.stringify(n));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.movies;return Object(p.jsxs)("div",{className:f.a.container,children:[Object(p.jsx)("div",{className:f.a.headBlock,children:Object(p.jsxs)("form",{className:f.a.formBar,onSubmit:this.handleSubmit,children:[Object(p.jsx)("button",{type:"button",onClick:this.handleClear,children:"Clear"}),Object(p.jsx)("input",{type:"text",name:"name",value:this.state.formValue,onChange:this.handleChange}),Object(p.jsx)("button",{type:"submit",children:"Search"})]})}),Object(p.jsx)(h.a,{movies:e})]})}}]),a}(u.Component);t.default=j}}]);
//# sourceMappingURL=movies-page-view.a94b3a73.chunk.js.map